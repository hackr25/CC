/*
* File name: RMIDateTimeApplication.java
* This file contains the interface, server, and client code for displaying current date and time using RMI
* Compile all: javac Jitesh_248742_RMIInterfaceDate.java Jitesh_248742_RMIServerDate.java Jitesh_248742_RMIClientDate.java
* Run in separate terminals:
* 1. Start RMI registry: rmiregistry
* 2. Run server: java Jitesh_248742_RMIServerDate
* 3. Run client: java Jitesh_248742_RMIClientDate
*/

// RMI Interface
import java.rmi.*;

public interface Jitesh_248742_RMIInterfaceDate extends Remote {
    public String printDate() throws Exception;
}

// RMI Server
import java.rmi.*;
import java.rmi.server.*;
import java.util.*;
import java.util.Date;
import java.text.SimpleDateFormat;

public class Jitesh_248742_RMIServerDate extends UnicastRemoteObject
implements Jitesh_248742_RMIInterfaceDate {
    public Jitesh_248742_RMIServerDate() throws Exception {
        System.out.println("Server is initialised");
    }

    public String printDate() throws Exception {
        Date d = new Date();
        SimpleDateFormat myFormat = new SimpleDateFormat("dd-MM-yyyy hh:mm:ss");
        String myDate = myFormat.format(d);
        System.out.println("Server: " + myDate);
        return myDate;
    }

    public static void main(String[] args) throws Exception {
        System.out.println("RMIServerDate started.");
        Jitesh_248742_RMIServerDate obj = new Jitesh_248742_RMIServerDate();
        Naming.bind("Jitesh_248742_RMIServerDate", obj);
        System.out.println("Object registered.");
    }
}

// RMI Client
import java.rmi.*;
import java.io.*;

public class Jitesh_248742_RMIClientDate {
    public static void main(String[] args) throws Exception {
        System.out.println("RMIClientDate started.");
        Jitesh_248742_RMIInterfaceDate server = (Jitesh_248742_RMIInterfaceDate)
        Naming.lookup("Jitesh_248742_RMIServerDate");
        String serverDate = server.printDate();
        System.out.println("Server: " + serverDate);
    }
}
